{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","global/config.js","components/InfoBar/InfoBar.js","Icons/onlineIcon.png","Icons/closeIcon.png","components/Input/Input.js","components/Messages/Message/Message.js","components/Messages/Messages.js","components/UserList/UserList.js","App.js","index.js"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","config","BASE_URL","ENDPOINT","InfoBar","src","alt","href","Input","message","setMessage","sendMessage","onKeyPress","key","Message","user","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","map","i","UserList","users","isUserPresent","undefined","length","Chat","location","setMessages","setUsers","useEffect","queryString","parse","search","io","emit","error","alert","off","on","console","log","App","path","exact","component","ReactDom","render","document","querySelector"],"mappings":"yQAUIA,E,gECWWC,EAlBF,WAAO,IAAD,EACSC,mBAAS,IADlB,mBACRC,EADQ,KACFC,EADE,OAESF,mBAAS,IAFlB,mBAERG,EAFQ,KAEFC,EAFE,KAIf,OACI,qBAAKC,UAAU,qBAAf,SACI,sBAAKA,UAAU,qBAAf,UACI,oBAAIA,UAAU,UAAd,kBACA,8BAAK,uBAAOC,YAAY,OAAOD,UAAU,YAAYE,KAAK,GAAGC,SAAU,SAACC,GAAD,OAAWP,EAAQO,EAAMC,OAAOC,YACvG,8BAAK,uBAAOL,YAAY,OAAOD,UAAU,YAAYE,KAAK,GAAGC,SAAU,SAACC,GAAD,OAAWL,EAAQK,EAAMC,OAAOC,YACvG,cAAC,IAAD,CAAMC,QAAS,SAACH,GAAD,OAAaR,GAASE,EAAiC,KAAzBM,EAAMI,kBAAyBC,GAAE,qBAAgBb,EAAhB,iBAA6BE,GAA3G,SACI,wBAAQE,UAAU,eAAeE,KAAK,SAAtC,6B,6CCRLQ,EANA,CAEXC,SAAW,uCACXC,SAAW,gCCgBAC,G,cAdC,SAAC,GAAY,IAAXf,EAAU,EAAVA,KACd,OACI,sBAAKE,UAAU,UAAf,UACI,sBAAKA,UAAU,qBAAf,UACI,qBAAKA,UAAU,aAAac,ICT7B,6NDS8CC,IAAI,WACjD,6BAAKjB,OAET,qBAAKE,UAAU,sBAAf,SACI,oBAAGgB,KAAK,IAAR,cAAa,qBAAKF,IEbnB,6QFamCC,IAAI,UAAtC,cGKDE,G,OAfD,SAAC,GAAwC,IAAvCC,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,YACjC,OACI,uBAAMpB,UAAU,OAAhB,UACI,uBACIA,UAAU,QACVE,KAAK,OACLD,YAAY,oBACZK,MAAOY,EACPf,SAAU,SAACC,GAAD,OAAWe,EAAWf,EAAMC,OAAOC,QAC7Ce,WAAY,SAAAjB,GAAK,MAAkB,UAAdA,EAAMkB,IAAkBF,EAAYhB,GAAS,QAEtE,wBAAQJ,UAAU,aAAaO,QAAS,SAACH,GAAD,OAAWgB,EAAYhB,IAA/D,uB,2BCmBGmB,G,OA7BC,SAAC,GAAmC,IAAD,IAAjCL,QAAUM,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,KAE1BC,GAAsB,EACpBC,EAHyC,EAAV/B,KAGZgC,OAAOC,cAMhC,OAJGL,IAASG,IACRD,GAAoB,GAIpBA,EAEI,sBAAK1B,UAAU,8BAAf,UACI,mBAAGA,UAAU,iBAAb,SAA+B2B,IAC/B,qBAAK3B,UAAU,4BAAf,SACI,mBAAGA,UAAU,yBAAb,SAAuC8B,IAAWC,QAAQN,UAIlE,sBAAKzB,UAAU,gCAAf,UACI,qBAAKA,UAAU,6BAAf,SACI,mBAAGA,UAAU,wBAAb,SAAsC8B,IAAWC,QAAQN,OAE7D,mBAAGzB,UAAU,iBAAb,SAA+BwB,SCZhCQ,G,OATE,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,SAAUrC,EAAU,EAAVA,KACzB,OACI,cAAC,IAAD,CAAgBI,UAAU,WAA1B,SACKiC,EAASC,KAAI,SAAChB,EAASiB,GAAO,OAAO,oCAAc,cAAC,EAAD,CAASjB,QAASA,EAAStB,KAAMA,IAA/C,MAAUuC,UCc7CC,G,OApBE,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACXC,GAAgB,EAIpB,YAHaC,IAAVF,GAAuC,GAAhBA,EAAMG,SAC5BF,GAAgB,GAGhB,8BACKA,EAED,sBAAKtC,UAAU,yBAAf,UACI,qBAAKA,UAAU,SAAf,0BACA,qBAAKA,UAAU,oBAAf,SACKqC,EAAMH,KAAI,SAACV,EAAKW,GAAN,OAAY,qBAAanC,UAAU,eAAvB,SAAuCwB,EAAK5B,MAAlCuC,WAGrC,ST2DDM,EAjEF,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACH/C,mBAAS,IADN,mBACpBC,EADoB,KACdC,EADc,OAEHF,mBAAS,IAFN,mBAEpBG,EAFoB,KAEdC,EAFc,OAGGJ,mBAAS,IAHZ,mBAGpBuB,EAHoB,KAGXC,EAHW,OAIKxB,mBAAS,IAJd,mBAIpBsC,EAJoB,KAIVU,EAJU,OAKDhD,mBAAS,IALR,mBAKpB0C,EALoB,KAKbO,EALa,KAO3BC,qBAAU,WAAO,IAAD,EACWC,IAAYC,MAAML,EAASM,QAA1CpD,EADI,EACJA,KAAME,EADF,EACEA,KAcd,OAZAL,EAASwD,IAAGvC,EAAOE,UAEnBf,EAAQD,GACRG,EAAQD,GAERL,EAAOyD,KAAK,OAAQ,CAAEtD,OAAME,SAAQ,SAACqD,GAC7BA,GACAC,MAAMD,MAKP,WACH1D,EAAOyD,KAAK,iBACZzD,EAAO4D,SAGZ,CAAC3C,EAAOE,SAAU8B,EAASM,SAG9BH,qBAAU,WACNpD,EAAO6D,GAAG,WAAW,SAACpC,GAClByB,EAAY,GAAD,mBAAKV,GAAL,CAAef,UAE/B,CAACe,IAEJY,qBAAU,WACNpD,EAAO6D,GAAG,YAAY,YAAqB,EAAlBxD,KAAmB,IAAbuC,EAAY,EAAZA,MAC3BkB,QAAQC,IAAI,SAAUnB,GACtBO,EAASP,QAEd,CAACA,IAUJ,OADAkB,QAAQC,IAAItC,EAASe,GAEjB,sBAAKjC,UAAU,iBAAf,UACI,sBAAKA,UAAU,YAAf,UACI,cAAC,EAAD,CAASF,KAAMA,IACf,cAAC,EAAD,CAAUmC,SAAUA,EAAUrC,KAAMA,IACpC,cAAC,EAAD,CAAOsB,QAASA,EAASC,WAAYA,EAAYC,YAbzC,SAAChB,GACjBA,EAAMI,iBACFU,GACAzB,EAAOyD,KAAK,cAAehC,GAAS,kBAAMC,EAAW,aAYrD,qBAAKnB,UAAU,mBAAf,SACI,cAAC,EAAD,CAAUqC,MAAOA,UUzDlBoB,EATH,WACR,OACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWlE,IACjC,cAAC,IAAD,CAAOgE,KAAK,QAAQE,UAAWnB,QCL3CoB,IAASC,OAAO,cAAC,EAAD,IAAQC,SAASC,cAAc,Y","file":"static/js/main.7a8fd632.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport queryString from 'query-string'\nimport io from 'socket.io-client'\nimport config from '../../global/config'\nimport './Chat.css';\nimport InfoBar from '../InfoBar/InfoBar'\nimport Input from '../Input/Input'\nimport Messages from '../Messages/Messages'\nimport UserList from '../UserList/UserList'\n\nlet socket;\n\nconst Chat = ({ location }) => {\n    const [name, setName] = useState('');\n    const [room, setRoom] = useState('');\n    const [message, setMessage] = useState('');\n    const [messages, setMessages] = useState([]);\n    const [users, setUsers] = useState([]);\n\n    useEffect(() => {\n        const { name, room } = queryString.parse(location.search);\n\n        socket = io(config.ENDPOINT);\n\n        setName(name);\n        setRoom(room);\n\n        socket.emit('join', { name, room }, (error) => {\n            if (error) {\n                alert(error)\n            }\n        });\n\n\n        return () => {\n            socket.emit('disconnection');\n            socket.off();\n        }\n\n    }, [config.ENDPOINT, location.search])\n\n\n    useEffect(() => {\n        socket.on('message', (message) => {\n            setMessages([...messages, message]);\n        })\n    }, [messages])\n\n    useEffect(() => {\n        socket.on('roomData', ({ room, users }) => {\n            console.log(\"users \", users);\n            setUsers(users);\n        })\n    }, [users])\n\n    const sendMessage = (event) => {\n        event.preventDefault(); // to prevent page refresh\n        if (message) {\n            socket.emit('sendMessage', message, () => setMessage(\"\"))\n        }\n    }\n\n    console.log(message, messages)\n    return (\n        <div className=\"outerContainer\">\n            <div className=\"container\">\n                <InfoBar room={room} />\n                <Messages messages={messages} name={name} />\n                <Input message={message} setMessage={setMessage} sendMessage={sendMessage} />\n            </div>\n            <div className=\"userBoxContainer\">\n                <UserList users={users} />\n            </div>\n        </div>\n    )\n}\n\nexport default Chat\n","import React, { useState} from 'react'\nimport { Link } from 'react-router-dom';\nimport './Join.css';\nconst Join = () => {\n    const [name, setName] = useState('');\n    const [room, setRoom] = useState('');\n\n    return (\n        <div className=\"joinOuterContainer\">\n            <div className=\"joinInnerContainer\">\n                <h1 className=\"Heading\">Join</h1>\n                <div><input placeholder=\"Name\" className=\"joinInput\" type=\"\" onChange={(event) => setName(event.target.value)}/></div>\n                <div><input placeholder=\"Room\" className=\"joinInput\" type=\"\" onChange={(event) => setRoom(event.target.value)}/></div>\n                <Link onClick={(event) => (!name || !room) ? event.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\n                    <button className=\"button mt-20\" type=\"submit\">Sign In</button>\n                </Link>\n            </div>\n        </div>\n    )\n}\n\nexport default Join\n","const config = {\n    // BASE_URL : \"http://localhost:5000\",\n    BASE_URL : \"https://chatapp-aparsh.herokuapp.com\",\n    ENDPOINT : \"chatapp-aparsh.herokuapp.com\"\n}\n\nexport default config;","import React from 'react'\nimport closeIcon from '../../Icons/closeIcon.png';\nimport onlineIcon from '../../Icons/onlineIcon.png';\nimport './InfoBar.css'\n\nconst InfoBar = ({room}) => {\n    return (\n        <div className=\"infoBar\">\n            <div className=\"leftInnerContainer\">\n                <img className=\"onlineIcon\" src={onlineIcon} alt=\"online\"/>\n                <h3>{room}</h3>\n            </div>\n            <div className=\"rightInnerContainer\">\n                <a href=\"/\"> <img src={closeIcon} alt=\"close\"/> </a>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoBar\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react'\nimport './Input.css'\n\nconst Input = ({message, setMessage, sendMessage}) => {\n    return (\n        <form className=\"form\">\n            <input\n                className=\"input\"\n                type=\"text\"\n                placeholder=\"Type a message...\"\n                value={message}\n                onChange={(event) => setMessage(event.target.value)}\n                onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\n            />\n            <button className=\"sendButton\" onClick={(event) => sendMessage(event)}>Send</button>\n        </form>\n    )\n}\nexport default Input\n","import React from 'react'\nimport ReactEmoji from 'react-emoji'\nimport './Message.css'\n\nconst Message = ({message: {user, text}, name}) => {\n\n    let isSentByCurrentUser = false;\n    const trimmedName = name.trim().toLowerCase();\n\n    if(user === trimmedName){\n        isSentByCurrentUser=true;\n    }\n\n    return (\n        isSentByCurrentUser ?\n        (\n            <div className=\"messageContainer justifyEnd\">\n                <p className=\"sentText pr-10\">{trimmedName}</p>\n                <div className=\"messageBox backgroundBlue\">\n                    <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\n                </div>\n            </div>\n        ) : (\n            <div className=\"messageContainer justifyStart\">\n                <div className=\"messageBox backgroundLight\">\n                    <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\n                </div>\n                <p className=\"sentText pl-10\">{user}</p>\n            </div>\n         )\n    )\n}\n\nexport default Message\n","import React from 'react'\nimport ScrollToBottom from 'react-scroll-to-bottom'\nimport Message from './Message/Message'\nimport './Messages.css'\n\n\nconst Messages = ({messages, name}) => {\n    return (\n        <ScrollToBottom className=\"messages\">\n            {messages.map((message, i) => {return(<div key={i}> <Message message={message} name={name} /> </div>)})}\n            {/* {messages.map((message, i) => {return(<div key={i}> {name} </div>)})} */}\n        </ScrollToBottom>\n    )\n}\n\nexport default Messages\n","import React from 'react'\nimport './UserList.css'\n\nconst UserList = ({users}) => {\n    let isUserPresent = true;\n    if(users === undefined || users.length == 0){\n        isUserPresent = false\n    }\n    return (\n        <div>\n            {isUserPresent ? \n            (\n            <div className=\"userListOuterContainer\">\n                <div className=\"topBar\">Active Users</div>\n                <div className=\"userListContainer\">\n                    {users.map((user,i) => <div key={i} className=\"userListItem\">{user.name}</div>)}\n                </div>\n            </div>\n            ) : null}\n        </div>\n    )\n}\n\nexport default UserList\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Join from './components/Join/Join';\nimport Chat from './components/Chat/Chat';\n\nconst App = () => {\n    return (\n        <Router>\n            <Route path='/' exact component={Join} />\n            <Route path='/chat' component={Chat} />\n        </Router>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDom from 'react-dom';\nimport App from './App';\n\nReactDom.render(<App/>, document.querySelector('#root'))"],"sourceRoot":""}